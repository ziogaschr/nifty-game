/*!
 * The Ebakus wallet loader library creates an iframe and loads the web wallet library in there. It can accept custom configurations for the wallet (i.e. load custom tokens) and act as an interface between the dApp and the web wallet iframe. This way a user can use his wallet to interface with any ebakus dApp she wants without having to create new keys and manage multiple accounts. v1.0.0
 *
 * @author Chris Ziogas <chris@ebakus.com>
 * @website https://www.ebakus.com/
 *
 * @copyright Ebakus 2019
 * @license MIT
 */
window.ebakusWallet = (function(t) {
  var e = {}
  function n(r) {
    if (e[r]) return e[r].exports
    var o = (e[r] = { i: r, l: !1, exports: {} })
    return t[r].call(o.exports, o, o.exports, n), (o.l = !0), o.exports
  }
  return (
    (n.m = t),
    (n.c = e),
    (n.d = function(t, e, r) {
      n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: r })
    }),
    (n.r = function(t) {
      'undefined' != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }),
        Object.defineProperty(t, '__esModule', { value: !0 })
    }),
    (n.t = function(t, e) {
      if ((1 & e && (t = n(t)), 8 & e)) return t
      if (4 & e && 'object' == typeof t && t && t.__esModule) return t
      var r = Object.create(null)
      if (
        (n.r(r),
        Object.defineProperty(r, 'default', { enumerable: !0, value: t }),
        2 & e && 'string' != typeof t)
      )
        for (var o in t)
          n.d(
            r,
            o,
            function(e) {
              return t[e]
            }.bind(null, o)
          )
      return r
    }),
    (n.n = function(t) {
      var e =
        t && t.__esModule
          ? function() {
              return t.default
            }
          : function() {
              return t
            }
      return n.d(e, 'a', e), e
    }),
    (n.o = function(t, e) {
      return Object.prototype.hasOwnProperty.call(t, e)
    }),
    (n.p = ''),
    n((n.s = 37))
  )
})([
  function(t, e) {
    var n = (t.exports =
      'undefined' != typeof window && window.Math == Math
        ? window
        : 'undefined' != typeof self && self.Math == Math
        ? self
        : Function('return this')())
    'number' == typeof __g && (__g = n)
  },
  function(t, e, n) {
    t.exports = !n(3)(function() {
      return (
        7 !=
        Object.defineProperty({}, 'a', {
          get: function() {
            return 7
          },
        }).a
      )
    })
  },
  function(t, e, n) {
    var r = n(4)
    t.exports = function(t) {
      if (!r(t)) throw TypeError(t + ' is not an object!')
      return t
    }
  },
  function(t, e) {
    t.exports = function(t) {
      try {
        return !!t()
      } catch (t) {
        return !0
      }
    }
  },
  function(t, e) {
    t.exports = function(t) {
      return 'object' == typeof t ? null !== t : 'function' == typeof t
    }
  },
  function(t, e) {
    t.exports = function(t) {
      if (null == t) throw TypeError("Can't call method on  " + t)
      return t
    }
  },
  function(t, e) {
    var n = Math.ceil,
      r = Math.floor
    t.exports = function(t) {
      return isNaN((t = +t)) ? 0 : (t > 0 ? r : n)(t)
    }
  },
  function(t, e) {
    var n = (t.exports = { version: '2.6.2' })
    'number' == typeof __e && (__e = n)
  },
  function(t, e, n) {
    'use strict'
    var r = n(2)
    t.exports = function() {
      var t = r(this),
        e = ''
      return (
        t.global && (e += 'g'),
        t.ignoreCase && (e += 'i'),
        t.multiline && (e += 'm'),
        t.unicode && (e += 'u'),
        t.sticky && (e += 'y'),
        e
      )
    }
  },
  function(t, e, n) {
    var r = n(14),
      o = n(31)
    t.exports = n(1)
      ? function(t, e, n) {
          return r.f(t, e, o(1, n))
        }
      : function(t, e, n) {
          return (t[e] = n), t
        }
  },
  function(t, e, n) {
    var r = n(0),
      o = n(9),
      i = n(32),
      c = n(12)('src'),
      u = Function.toString,
      a = ('' + u).split('toString')
    ;(n(7).inspectSource = function(t) {
      return u.call(t)
    }),
      (t.exports = function(t, e, n, u) {
        var s = 'function' == typeof n
        s && (i(n, 'name') || o(n, 'name', e)),
          t[e] !== n &&
            (s && (i(n, c) || o(n, c, t[e] ? '' + t[e] : a.join(String(e)))),
            t === r
              ? (t[e] = n)
              : u
              ? t[e]
                ? (t[e] = n)
                : o(t, e, n)
              : (delete t[e], o(t, e, n)))
      })(Function.prototype, 'toString', function() {
        return ('function' == typeof this && this[c]) || u.call(this)
      })
  },
  function(t, e, n) {
    var r = n(23)('wks'),
      o = n(12),
      i = n(0).Symbol,
      c = 'function' == typeof i
    ;(t.exports = function(t) {
      return r[t] || (r[t] = (c && i[t]) || (c ? i : o)('Symbol.' + t))
    }).store = r
  },
  function(t, e) {
    var n = 0,
      r = Math.random()
    t.exports = function(t) {
      return 'Symbol('.concat(
        void 0 === t ? '' : t,
        ')_',
        (++n + r).toString(36)
      )
    }
  },
  function(t, e, n) {
    'use strict'
    var r,
      o,
      i = n(8),
      c = RegExp.prototype.exec,
      u = String.prototype.replace,
      a = c,
      s = ((r = /a/),
      (o = /b*/g),
      c.call(r, 'a'),
      c.call(o, 'a'),
      0 !== r.lastIndex || 0 !== o.lastIndex),
      l = void 0 !== /()??/.exec('')[1]
    ;(s || l) &&
      (a = function(t) {
        var e,
          n,
          r,
          o,
          a = this
        return (
          l && (n = new RegExp('^' + a.source + '$(?!\\s)', i.call(a))),
          s && (e = a.lastIndex),
          (r = c.call(a, t)),
          s && r && (a.lastIndex = a.global ? r.index + r[0].length : e),
          l &&
            r &&
            r.length > 1 &&
            u.call(r[0], n, function() {
              for (o = 1; o < arguments.length - 2; o++)
                void 0 === arguments[o] && (r[o] = void 0)
            }),
          r
        )
      }),
      (t.exports = a)
  },
  function(t, e, n) {
    var r = n(2),
      o = n(28),
      i = n(30),
      c = Object.defineProperty
    e.f = n(1)
      ? Object.defineProperty
      : function(t, e, n) {
          if ((r(t), (e = i(e, !0)), r(n), o))
            try {
              return c(t, e, n)
            } catch (t) {}
          if ('get' in n || 'set' in n)
            throw TypeError('Accessors not supported!')
          return 'value' in n && (t[e] = n.value), t
        }
  },
  function(t, e, n) {
    'use strict'
    var r = n(2),
      o = n(16),
      i = n(17),
      c = n(6),
      u = n(18),
      a = n(20),
      s = Math.max,
      l = Math.min,
      f = Math.floor,
      p = /\$([$&`']|\d\d?|<[^>]*>)/g,
      d = /\$([$&`']|\d\d?)/g
    n(25)('replace', 2, function(t, e, n, v) {
      return [
        function(r, o) {
          var i = t(this),
            c = null == r ? void 0 : r[e]
          return void 0 !== c ? c.call(r, i, o) : n.call(String(i), r, o)
        },
        function(t, e) {
          var o = v(n, t, this, e)
          if (o.done) return o.value
          var f = r(t),
            p = String(this),
            d = 'function' == typeof e
          d || (e = String(e))
          var h = f.global
          if (h) {
            var y = f.unicode
            f.lastIndex = 0
          }
          for (var x = []; ; ) {
            var m = a(f, p)
            if (null === m) break
            if ((x.push(m), !h)) break
            '' === String(m[0]) && (f.lastIndex = u(p, i(f.lastIndex), y))
          }
          for (var b, w = '', S = 0, E = 0; E < x.length; E++) {
            m = x[E]
            for (
              var _ = String(m[0]),
                O = s(l(c(m.index), p.length), 0),
                j = [],
                M = 1;
              M < m.length;
              M++
            )
              j.push(void 0 === (b = m[M]) ? b : String(b))
            var k = m.groups
            if (d) {
              var A = [_].concat(j, O, p)
              void 0 !== k && A.push(k)
              var P = String(e.apply(void 0, A))
            } else P = g(_, p, O, j, k, e)
            O >= S && ((w += p.slice(S, O) + P), (S = O + _.length))
          }
          return w + p.slice(S)
        },
      ]
      function g(t, e, r, i, c, u) {
        var a = r + t.length,
          s = i.length,
          l = d
        return (
          void 0 !== c && ((c = o(c)), (l = p)),
          n.call(u, l, function(n, o) {
            var u
            switch (o.charAt(0)) {
              case '$':
                return '$'
              case '&':
                return t
              case '`':
                return e.slice(0, r)
              case "'":
                return e.slice(a)
              case '<':
                u = c[o.slice(1, -1)]
                break
              default:
                var l = +o
                if (0 === l) return n
                if (l > s) {
                  var p = f(l / 10)
                  return 0 === p
                    ? n
                    : p <= s
                    ? void 0 === i[p - 1]
                      ? o.charAt(1)
                      : i[p - 1] + o.charAt(1)
                    : n
                }
                u = i[l - 1]
            }
            return void 0 === u ? '' : u
          })
        )
      }
    })
  },
  function(t, e, n) {
    var r = n(5)
    t.exports = function(t) {
      return Object(r(t))
    }
  },
  function(t, e, n) {
    var r = n(6),
      o = Math.min
    t.exports = function(t) {
      return t > 0 ? o(r(t), 9007199254740991) : 0
    }
  },
  function(t, e, n) {
    'use strict'
    var r = n(19)(!0)
    t.exports = function(t, e, n) {
      return e + (n ? r(t, e).length : 1)
    }
  },
  function(t, e, n) {
    var r = n(6),
      o = n(5)
    t.exports = function(t) {
      return function(e, n) {
        var i,
          c,
          u = String(o(e)),
          a = r(n),
          s = u.length
        return a < 0 || a >= s
          ? t
            ? ''
            : void 0
          : (i = u.charCodeAt(a)) < 55296 ||
            i > 56319 ||
            a + 1 === s ||
            (c = u.charCodeAt(a + 1)) < 56320 ||
            c > 57343
          ? t
            ? u.charAt(a)
            : i
          : t
          ? u.slice(a, a + 2)
          : c - 56320 + ((i - 55296) << 10) + 65536
      }
    }
  },
  function(t, e, n) {
    'use strict'
    var r = n(21),
      o = RegExp.prototype.exec
    t.exports = function(t, e) {
      var n = t.exec
      if ('function' == typeof n) {
        var i = n.call(t, e)
        if ('object' != typeof i)
          throw new TypeError(
            'RegExp exec method returned something other than an Object or null'
          )
        return i
      }
      if ('RegExp' !== r(t))
        throw new TypeError('RegExp#exec called on incompatible receiver')
      return o.call(t, e)
    }
  },
  function(t, e, n) {
    var r = n(22),
      o = n(11)('toStringTag'),
      i =
        'Arguments' ==
        r(
          (function() {
            return arguments
          })()
        )
    t.exports = function(t) {
      var e, n, c
      return void 0 === t
        ? 'Undefined'
        : null === t
        ? 'Null'
        : 'string' ==
          typeof (n = (function(t, e) {
            try {
              return t[e]
            } catch (t) {}
          })((e = Object(t)), o))
        ? n
        : i
        ? r(e)
        : 'Object' == (c = r(e)) && 'function' == typeof e.callee
        ? 'Arguments'
        : c
    }
  },
  function(t, e) {
    var n = {}.toString
    t.exports = function(t) {
      return n.call(t).slice(8, -1)
    }
  },
  function(t, e, n) {
    var r = n(7),
      o = n(0),
      i = o['__core-js_shared__'] || (o['__core-js_shared__'] = {})
    ;(t.exports = function(t, e) {
      return i[t] || (i[t] = void 0 !== e ? e : {})
    })('versions', []).push({
      version: r.version,
      mode: n(24) ? 'pure' : 'global',
      copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)',
    })
  },
  function(t, e) {
    t.exports = !1
  },
  function(t, e, n) {
    'use strict'
    n(26)
    var r = n(10),
      o = n(9),
      i = n(3),
      c = n(5),
      u = n(11),
      a = n(13),
      s = u('species'),
      l = !i(function() {
        var t = /./
        return (
          (t.exec = function() {
            var t = []
            return (t.groups = { a: '7' }), t
          }),
          '7' !== ''.replace(t, '$<a>')
        )
      }),
      f = (function() {
        var t = /(?:)/,
          e = t.exec
        t.exec = function() {
          return e.apply(this, arguments)
        }
        var n = 'ab'.split(t)
        return 2 === n.length && 'a' === n[0] && 'b' === n[1]
      })()
    t.exports = function(t, e, n) {
      var p = u(t),
        d = !i(function() {
          var e = {}
          return (
            (e[p] = function() {
              return 7
            }),
            7 != ''[t](e)
          )
        }),
        v = d
          ? !i(function() {
              var e = !1,
                n = /a/
              return (
                (n.exec = function() {
                  return (e = !0), null
                }),
                'split' === t &&
                  ((n.constructor = {}),
                  (n.constructor[s] = function() {
                    return n
                  })),
                n[p](''),
                !e
              )
            })
          : void 0
      if (!d || !v || ('replace' === t && !l) || ('split' === t && !f)) {
        var g = /./[p],
          h = n(c, p, ''[t], function(t, e, n, r, o) {
            return e.exec === a
              ? d && !o
                ? { done: !0, value: g.call(e, n, r) }
                : { done: !0, value: t.call(n, e, r) }
              : { done: !1 }
          }),
          y = h[0],
          x = h[1]
        r(String.prototype, t, y),
          o(
            RegExp.prototype,
            p,
            2 == e
              ? function(t, e) {
                  return x.call(t, this, e)
                }
              : function(t) {
                  return x.call(t, this)
                }
          )
      }
    }
  },
  function(t, e, n) {
    'use strict'
    var r = n(13)
    n(27)({ target: 'RegExp', proto: !0, forced: r !== /./.exec }, { exec: r })
  },
  function(t, e, n) {
    var r = n(0),
      o = n(7),
      i = n(9),
      c = n(10),
      u = n(33),
      a = function(t, e, n) {
        var s,
          l,
          f,
          p,
          d = t & a.F,
          v = t & a.G,
          g = t & a.S,
          h = t & a.P,
          y = t & a.B,
          x = v ? r : g ? r[e] || (r[e] = {}) : (r[e] || {}).prototype,
          m = v ? o : o[e] || (o[e] = {}),
          b = m.prototype || (m.prototype = {})
        for (s in (v && (n = e), n))
          (f = ((l = !d && x && void 0 !== x[s]) ? x : n)[s]),
            (p =
              y && l
                ? u(f, r)
                : h && 'function' == typeof f
                ? u(Function.call, f)
                : f),
            x && c(x, s, f, t & a.U),
            m[s] != f && i(m, s, p),
            h && b[s] != f && (b[s] = f)
      }
    ;(r.core = o),
      (a.F = 1),
      (a.G = 2),
      (a.S = 4),
      (a.P = 8),
      (a.B = 16),
      (a.W = 32),
      (a.U = 64),
      (a.R = 128),
      (t.exports = a)
  },
  function(t, e, n) {
    t.exports =
      !n(1) &&
      !n(3)(function() {
        return (
          7 !=
          Object.defineProperty(n(29)('div'), 'a', {
            get: function() {
              return 7
            },
          }).a
        )
      })
  },
  function(t, e, n) {
    var r = n(4),
      o = n(0).document,
      i = r(o) && r(o.createElement)
    t.exports = function(t) {
      return i ? o.createElement(t) : {}
    }
  },
  function(t, e, n) {
    var r = n(4)
    t.exports = function(t, e) {
      if (!r(t)) return t
      var n, o
      if (e && 'function' == typeof (n = t.toString) && !r((o = n.call(t))))
        return o
      if ('function' == typeof (n = t.valueOf) && !r((o = n.call(t)))) return o
      if (!e && 'function' == typeof (n = t.toString) && !r((o = n.call(t))))
        return o
      throw TypeError("Can't convert object to primitive value")
    }
  },
  function(t, e) {
    t.exports = function(t, e) {
      return {
        enumerable: !(1 & t),
        configurable: !(2 & t),
        writable: !(4 & t),
        value: e,
      }
    }
  },
  function(t, e) {
    var n = {}.hasOwnProperty
    t.exports = function(t, e) {
      return n.call(t, e)
    }
  },
  function(t, e, n) {
    var r = n(34)
    t.exports = function(t, e, n) {
      if ((r(t), void 0 === e)) return t
      switch (n) {
        case 1:
          return function(n) {
            return t.call(e, n)
          }
        case 2:
          return function(n, r) {
            return t.call(e, n, r)
          }
        case 3:
          return function(n, r, o) {
            return t.call(e, n, r, o)
          }
      }
      return function() {
        return t.apply(e, arguments)
      }
    }
  },
  function(t, e) {
    t.exports = function(t) {
      if ('function' != typeof t) throw TypeError(t + ' is not a function!')
      return t
    }
  },
  function(t, e, n) {
    'use strict'
    n(36)
    var r = n(2),
      o = n(8),
      i = n(1),
      c = /./.toString,
      u = function(t) {
        n(10)(RegExp.prototype, 'toString', t, !0)
      }
    n(3)(function() {
      return '/a/b' != c.call({ source: 'a', flags: 'b' })
    })
      ? u(function() {
          var t = r(this)
          return '/'.concat(
            t.source,
            '/',
            'flags' in t
              ? t.flags
              : !i && t instanceof RegExp
              ? o.call(t)
              : void 0
          )
        })
      : 'toString' != c.name &&
        u(function() {
          return c.call(this)
        })
  },
  function(t, e, n) {
    n(1) &&
      'g' != /./g.flags &&
      n(14).f(RegExp.prototype, 'flags', { configurable: !0, get: n(8) })
  },
  function(t, e, n) {
    'use strict'
    let r, o, i
    n.r(e), n(15), n(35)
    const c = {},
      u = () => {
        const t = () =>
          Math.random()
            .toString(36)
            .slice(2)
        let e = t()
        for (; e in c; ) e = t()
        return e
      },
      a = (t, e) => {
        const n = { id: u(), cmd: t, req: e }
        return new Promise((e, o) => {
          c[n.id] = n => {
            delete c[n.id],
              n.cmd !== t &&
                o(new Error('Wallet response is not for this request'))
            const r = n.res,
              i = n.err
            r ? e(r) : o(i || new Error('Please try again'))
          }
          try {
            i.postMessage(JSON.stringify(n), r)
          } catch (t) {
            delete c[response.id]
          }
        })
      },
      s = (t, e) => {
        const n = { cmd: t, passive: !0, req: e }
        try {
          i.postMessage(JSON.stringify(n), r)
        } catch (t) {}
      },
      l = t => {
        if (t.origin === window.location.origin) return
        if (t.origin !== r || t.source !== i) return
        const e = JSON.parse(t.data),
          n = e.id,
          u = e.cmd,
          a = e.req
        if (n && c[n]) c[n](e)
        else if ('active' === u)
          (o.className += ' active'), o.removeAttribute('style')
        else if ('inactive' === u)
          (o.className = ''), o.removeAttribute('style')
        else if ('resize' === u) {
          const t = parseInt(e.width, 10)
          t > 150
            ? o.setAttribute('style', `width: ${t}px`)
            : o.removeAttribute('style')
        } else
          'withOverlay' === u
            ? (o.className += ' overlay')
            : 'withoutOverlay' === u
            ? (o.className = o.className.replace(/\boverlay\b/, ''))
            : 'openInNewTab' === u &&
              'string' == typeof a &&
              Object.assign(document.createElement('a'), {
                target: '_blank',
                href: a,
              }).click()
      }
    n.d(e, 'init', function() {
      return f
    }),
      n.d(e, 'getDefaultAddress', function() {
        return p
      }),
      n.d(e, 'getBalance', function() {
        return d
      }),
      n.d(e, 'sendTransaction', function() {
        return v
      }),
      (() => {
        const t = document.createElement('style')
        ;(t.className = 'ebakus-styles'),
          (t.innerHTML =
            '\n#ebakus-wallet-frame {\n  position: fixed;\n  top: 0;\n  right: 0;\n  min-width: 150px;\n  height: 44px;\n  z-index: 2147483647;\n}\n\n#ebakus-wallet-frame.active {\n  right: 0;\n  width: 330px;\n  height: 100%;\n}\n\n#ebakus-wallet-frame.active.overlay {\n  left: 0;\n  right: auto;\n  width: 100%;\n}\n'),
          document.getElementsByTagName('head')[0].appendChild(t),
          (o = (() => {
            const t = document.createElement('iframe')
            ;(t.id = 'ebakus-wallet-frame'),
              t.setAttribute('frameBorder', '0'),
              t.setAttribute('sandbox', 'allow-scripts allow-same-origin'),
              (t.onload = () => {
                s('_'), window.dispatchEvent(new CustomEvent('ebakusLoaded'))
              }),
              (t.src = 'https://wallet.ebakus.com')
            const e = document.createElement('a')
            e.setAttribute('href', 'https://wallet.ebakus.com'), (r = e.origin)
            try {
              document.body.appendChild(t)
            } catch (e) {
              window.addEventListener('DOMContentLoaded', () =>
                (document.body || document.documentElement).appendChild(t)
              )
            }
            return t
          })()),
          (i = o.contentWindow),
          window.addEventListener('message', l, !1)
      })()
    const f = t => s('init', t),
      p = () => a('defaultAddress'),
      d = () => a('getBalance'),
      v = t => a('sendTransaction', t)
  },
])
